@{
    var color = "";
    var colspan = "colspan = 2";
    var test = false;
}
@if (Model.SubTask == true)
{
    @Partial("Views/parentTask.cshtml", Model)
    colspan = "";
    test = true;
}
else
{
    colspan = "colspan = 2";
    test = false;
}
        <tr>
            @if(test == true)
            {
                <td>

                </td>
            }
            <td style="vertical-align:top; width:15px">
                @if (Model.StatusCategory.name == "In Progress")
                {
                    <span style="font-family: Wolfram Alpha; font-size:10.5pt; color:black">&#9658;</span>
                }
                else if (Model.Resolution == null)
                {
                    <span style="font-family: Segoe UI Symbol; font-size: 10.5pt; font-weight:normal; color:black">&#10065;</span>
                }
            </td>
            <td @colspan>
                @if (DateTime.Compare(Model.Created, DateTime.Today.AddDays(-1)) >= 0)
                {
                    <b style="color:black"> NEW: </b>
                }
                @if (Model.Status == Model.PolicyReopenedStatus)
                {
                    <b style="color:black">Reopened: </b>
                }
                else
                {
                    if (Model.TimeSpent > 0)
                    {
                        <b style="color:black">Paused: </b>
                    }
                }
                @if (Model.ExistsInTimesheet == true && Model.StatusCategory.name == "In Progress")
                {
                    <span style="font-weight:bold; color:black">Continue:</span>
                }

                <a style="text-decoration: none; font-weight:bold;" href="@Model.Link">@Model.Summary</a>
                <span style="color: #B8B8B8;"> &#x25cf; @Model.Key </span>
                @if (Model.Label != null)
                {
                    color = "orange";
                }
                else
                {
                    color = "red";
                }
                @if (Model.Subtasks.Count == 0)
                {
                    if (Model.TimeSpentTotal > 0)
                    {
                        <span style="color:black"> &#x25cf; @Model.TimeLoggedTotal worked </span>
                    }
                    if (Model.RemainingEstimateSeconds == 0)
                    {
                        <span style="color:@color; font-weight:bold;"> &#x25cf; @Model.RemainingEstimate left</span>
                    }
                    else
                    {
                        <span style="color:black"> &#x25cf; @Model.RemainingEstimate left</span>
                    }
                }
                else
                {
                    if (Model.TimeSpentTotal > 0)
                    {
                        <span style="color:black"> &#x25cf; @Model.TimeLoggedTotal worked </span>
                    }
                    if (Model.TotalRemainingSeconds == 0)
                    {
                        <span style="color:@color; font-weight:bold">&#x25cf; @Model.TotalRemaining left</span>
                    }
                    else
                    {
                        <span style="color:black"> &#x25cf; @Model.TotalRemaining left</span>
                    }
                }
                @if (Model.HasSubtasksInProgress == true)
                {
                    <span style="color:red; font-weight:bold;"> &#x25cf; has sub-tasks in progress </span>
                }
                @if (Model.PullRequests != null)
                {
                    if (Model.PullRequests.Count > 0)
                    {
                        <span> @Partial("Views/pullRequests.cshtml", Model.PullRequests) </span>
                    }
                }
            </td>
            @if(test == false)
            {
                <td>

                </td>
            }
        </tr>