<div class="jumbotron jumbo">
    <div class="container">
        <h1>
            Projects
        </h1>
        <p class="help-block">
            {{projects[0].baseUrl}}
        </p>
    </div>
</div>

<div class="table">
    <div class="container" ng-if="status == 'loading'">
        <h3>
            <span class="glyphicon glyphicon-refresh glyphicon-refresh-animate"></span> Loading...
        </h3>
    </div>
    <div class="container" ng-if="status == 'loaded' && !projects.length">
        <h1>
            <span class="alert-danger">
                No projects available
            </span>
        </h1>
        <p class="help-block">
            Daily Report tool is unable to find any project.
        </p>
    </div>
    <div class="container" ng-if="status == 'loaded' && projects.length">
        <div class="row">
            <label class="col-sm-6 col-md-6">
                Project name
            </label>
            <label class="col-sm-4 col-md-4">
                Report time
            </label>
            <label class="col-sm-2 col-md-2">
                Options
            </label>
        </div>
        <div class="row project" ng-repeat="project in projects">
            <div class="col-sm-6 col-md-6">
                {{project.projectName}}
            </div>
            <div class="col-sm-4 col-md-4">
                <div ng-form="reportForm">
                    <input name="reportTime" type="text" class="form-control" placeholder="e.g. 08:00" ng-model="project.reportTime" ng-focus="reportTime.focus = true" ng-blur="reportTime.focus = false; updateReportTime(this)" ng-pattern=regex.Time />
                    <span class="form-notification" ng-show="reportForm.reportTime.$error.pattern && !reportTime.focus"><b>Enter valid time</b> (23:59)</span>
                </div>
            </div>
            <div class="col-sm-2 col-md-2">
                <a ng-href="app/instances/{{project.installedInstanceId}}/projects/{{project.id}}/settings/" class="btn btn-default">Details</a>
            </div>
        </div>
    </div>
</div>